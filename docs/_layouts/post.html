---
layout: default
---

{% if page.tikz %}
<link rel="stylesheet" type="text/css" href="http://tikzjax.com/v1/fonts.css">
<script src="http://tikzjax.com/v1/tikzjax.js"></script>
{% endif %}

{% if page.katex %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var custommacros = {
            "\\Gr": "\\mathcal Gr",
            "\\O": "\\mathbb O",
            "\\R": "\\mathbb R",
            "\\C": "\\mathbb C",
            "\\Z": "\\mathbb Z",
            "\\K": "\\mathbb K",
            "\\L": "\\mathbf L",
            "\\bGr": "\\mathbf{Gr}",
            "\\Fl": "\\mathcal Fl",
            "\\lam": "\\lambda",
            "\\mbf": "\\mathbf",
            "\\mf": "\\mathfrak",
            "\\bb": "\\mathbb",
            "\\mc": "\\mathcal",
            "\\ol": "\\overline",
            "\\ul": "\\underline",
            "\\xr": "\\xrightarrow",
            "\\Hom": "\\text{Hom}",
            "\\im": "\\text{im }",
            "\\ker": "\\text{ker }",
            "\\Q": "\\mathbb Q",
            "\\Set": "\\text{Set}"
        };
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            macros: custommacros
        });
    });
</script>
{% endif %}

<h1>{{ page.title }}</h1>
<p>{{ page.date | date_to_string }}</p>

<hr>

{{ content }}

{% if page.xyz %}

<hr>

<?php

    // commentsubmit.php -- Receive comments and e-mail them to someone
    // Copyright (C) 2011 Matt Palmer <mpalmer@hezmatt.org>
    //
    //  This program is free software; you can redistribute it and/or modify it
    //  under the terms of the GNU General Public License version 3, as
    //  published by the Free Software Foundation.
    //
    //  This program is distributed in the hope that it will be useful, but
    //  WITHOUT ANY WARRANTY; without even the implied warranty of
    //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    //  General Public License for more details.
    //
    //  You should have received a copy of the GNU General Public License along
    //  with this program; if not, see <http://www.gnu.org/licences/>


    // Format of the date you want to use in your comments.  See
    // http://php.net/manual/en/function.date.php for the insane details of this
    // format.
    $DATE_FORMAT = "Y-m-d H:i";

    // Where the comment e-mails should be sent to.  This will also be used as
    // the From: address.  Whilst you could, in theory, change this to take the
    // address out of the form, it's *incredibly* highly recommended you don't,
    // because that turns you into an open relay, and that's not cool.
    $EMAIL_ADDRESS = "andreablog72@gmail.com";

    // The subject of all blog comment e-mails.  If you're running lots of these,
    // you might want to customise it, or if you were running a generic comment
    // handler you could take it out of the form, but really, who cares what your
    // comment e-mails are titled, as long as you can recognise it?
    $SUBJECT = "Blog comment received";

    // The contents of the following file (relative to this PHP file) will be
    // displayed after the comment is received.  Customise it to your heart's
    // content.
    $COMMENT_RECEIVED = "comment_received.html";

    /****************************************************************************
     * HERE BE CODE
     ****************************************************************************/

    $post_id = $_POST["post_id"];
    unset($_POST["post_id"]);
    $msg = "post_id: $post_id\n";
    $msg .= "date: " . date($DATE_FORMAT) . "\n";

    foreach ($_POST as $key => $value) {
        if (strstr($value, "\n") != "") {
            // Value has newlines... need to indent them so the YAML
            // looks right
            $value = str_replace("\n", "\n  ", $value);
        }
        // It's easier just to single-quote everything than to try and work
        // out what might need quoting
        $value = "'" . str_replace("'", "''", $value) . "'";
        $msg .= "$key: $value\n";
    }

    if (mail($EMAIL_ADDRESS, $SUBJECT, $msg))
    {
        include $COMMENT_RECEIVED;
    }
    else
    {
        echo "There was a problem sending the comment. Please contact the site's owner.";
    }

?>

<div id="comments">
    <h1>Comments</h1>
    {% for c in page.comments %}
        <div class="comment {% cycle 'odd', 'even' %}">
            <p class="comment_header">
                From: {{c.name}}
                <br />
                <span class="comment_date">{{c.date}}</span>
            </p>
            <p>
                {{c.comment | newline_to_br}}
            </p>
        </div>
    {% endfor %}
    <hr>
    <h1>Post a comment</h1>
    <p style="font-style: italic">
        All comments are held for moderation; basic HTML and LaTeX formatting are accepted.
    </p>
    <form id="commentform" method="post">
        <input type="hidden" name="post_id" value="{{page.order}}" />
        <input type="hidden" name="return_url" value="{{site.url}}/{{page.url}}" />
        <table>
            <tr>
                <th>Name:</th>
                <td><input type="text" size="25" name="name" /></td>
            </tr>
            <tr>
                <td colspan="2"><textarea name="comment" rows="10" cols="60" ></textarea></td>
            </tr>
            <tr>
                <td><input type="submit" name="submit" value="Submit Comment" /></td>
            </tr>
        </table>
    </form>
</div>

{% endif %}
